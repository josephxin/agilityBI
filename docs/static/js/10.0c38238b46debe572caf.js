webpackJsonp([10],{ANgW:function(e,t){},IyU0:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("4YfN"),n=s.n(r),a=s("R4Sj"),o=(s("aozt"),s("VPSd")),i=s("gyMJ"),c={components:{progressBar:o.a},data:function(){return{showProgress:!1,progress:0,missionId:"",relationExtractionSrc:""}},computed:n()({},Object(a.c)(["themeColor","requests"])),watch:{themeColor:{handler:function(e,t){this.setrelationExtractionSrc(e)}}},methods:{setrelationExtractionSrc:function(e){this.relationExtractionSrc=s("MeSI")("./"+e+"/relation-extraction.png")},relatuinAjax:function(){var e=this;Object(i.q)({userId:this.$root.userId}).then(function(t){"success"==t.message?t.data.status&&(e.missionId=t.data.missionId,e.showProgress=!0,e.getKGBuildProgressAjax()):e.$message({type:"error",duration:1e3,message:t.message})}).catch(function(t){e.$message({type:"error",duration:1e3,message:t})})},cancelKGBuildAjax:function(){var e=this;Object(i.c)({userId:this.$root.userId,missionId:this.missionId}).then(function(t){"success"==t.message?t.data.status&&(e.showProgress=!1,e.$message({type:"success",duration:1e3,message:"成功终止知识图谱构建任务"})):e.$message({type:"error",duration:1e3,message:t.message})}).catch(function(t){e.$message({type:"error",duration:1e3,message:t})})},getKGBuildProgressAjax:function(){var e=this;Object(i.u)({userId:this.$root.userId,missionId:this.missionId}).then(function(t){"success"==t.message?-2!=t.data.process&&-1!=t.data.process?(e.progress=t.data.process,e.progress>=100?(e.progress=100,e.$message({type:"success",duration:1e3,message:"知识图谱构建成功！"}),e.$router.push({name:"hotWord"})):setTimeout(function(){e.getKGBuildProgressAjax()},2e3)):(e.$message({type:"error",duration:1e3,message:-2==t.data.process?"任务id不存在":"任务已取消"}),e.progress=0):(e.$message({type:"error",duration:1e3,message:t.message}),e.progress=0)}).catch(function(t){e.$message({type:"error",duration:1e3,message:t}),e.progress=0})}},created:function(){},mounted:function(){this.setrelationExtractionSrc(this.themeColor)}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"relationExtraction"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showProgress,expression:"!showProgress"}],staticClass:"re_begin"},[s("img",{attrs:{src:e.relationExtractionSrc,alt:""}}),e._v(" "),s("button",{staticClass:"begin_task opacity",on:{click:e.relatuinAjax}},[e._v("知识图谱构建")]),e._v(" "),s("p",[e._v("此抽取过程中耗时较久，未完成之前系统不可查询，请您耐心等待")])]),e._v(" "),e.showProgress?s("progress-bar",{attrs:{"module-name":"知识图谱构建进度",progress:e.progress},on:{"cancel-event":e.cancelKGBuildAjax}}):e._e()],1)},staticRenderFns:[]};var d=s("C7Lr")(c,u,!1,function(e){s("ANgW")},"data-v-09d42832",null);t.default=d.exports},MeSI:function(e,t,s){var r={"./blue/relation-extraction.png":"gVHZ","./green/relation-extraction.png":"b7nE","./red/relation-extraction.png":"RH/a"};function n(e){return s(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id="MeSI"},"RH/a":function(e,t,s){e.exports=s.p+"static/img/relation-extraction.5f9dc7c.png"},VPSd:function(e,t,s){"use strict";var r={components:{},props:{moduleName:{type:String},progress:{type:[String,Number]}},data:function(){return{}},computed:{},watch:{},methods:{btn_cancel:function(){this.$emit("cancel-event")}},created:function(){},mounted:function(){}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"re_begin"},[s("div",{staticClass:"re_percent"},[s("span",[e._v(e._s(e.progress))]),e._v(" "),s("i",{staticClass:"iconfont icon-baifenbi "})]),e._v(" "),s("span",{staticClass:"re_begin_plan"},[e._v(e._s(e.moduleName))]),e._v(" "),s("div",{staticClass:"progress_my"},[s("div",{staticClass:"progress_my_bar"},[s("div",{staticClass:"pmb_backgfound transition",style:{width:e.progress+"%"}})])]),e._v(" "),s("button",{staticClass:"begin_cancel el-btn cancel",on:{click:e.btn_cancel}},[e._v("取消")])])},staticRenderFns:[]};var a=s("C7Lr")(r,n,!1,function(e){s("WP1c")},"data-v-1c8376b1",null);t.a=a.exports},WP1c:function(e,t){},b7nE:function(e,t,s){e.exports=s.p+"static/img/relation-extraction.3b23ff4.png"},gVHZ:function(e,t,s){e.exports=s.p+"static/img/relation-extraction.a3b4efd.png"}});